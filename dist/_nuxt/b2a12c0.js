(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{199:function(t,e,r){var content=r(258);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(19).default)("7388ab72",content,!0,{sourceMap:!1})},221:function(t,e,r){"use strict";r(9),r(5),r(8),r(12),r(6),r(13);var n=r(23),o=r(2),c=(r(77),r(41),r(69));function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={data:function(){return{drawer:null}},computed:l({},Object(c.b)(["auth","user"])),mounted:function(){},methods:{Logout:function(){var t=this;firebase.auth().signOut().then((function(){t.$store.commit("Logout")}))}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t,firebase.auth().onAuthStateChanged((function(t){t?db.collection("Students").doc(t.uid).get().then((function(t){r.$store.commit("login",l(l({},t.data()),{},{id:t.id})),r.$router.push("/")})):r.$store.commit("Logout")})),db.collection("courses").get().then((function(t){var e=t.docs.map((function(t){var e=t.id;return l(l({},t.data()),{},{id:e})}));r.$store.commit("setCourses",e)})).then((function(){db.collection("Students").get().then((function(t){r.$store.commit("setCourseUsers",t.docs.map((function(t){return t.data().courses})))}))}));case 3:case"end":return e.stop()}}),e)})))()}},d=r(73),f=r(100),h=r.n(f),_=r(315),O=r(150),w=r(316),y=r(151),j=r(152),C=r(96),V=r(65),L=r(84),x=r(319),k=r(130),P=r(317),S=r(318),component=Object(d.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-system-bar",{attrs:{app:""}},[r("v-spacer"),t._v(" "),r("nuxt-link",{attrs:{to:"/"}},[r("v-icon",[t._v("mdi-home")])],1),t._v(" "),r("nuxt-link",{attrs:{to:"/addCourse"}},[r("v-icon",[t._v("mdi-account")])],1)],1),t._v(" "),r("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("v-sheet",{staticClass:"pa-4",attrs:{color:"grey lighten-4"}},[r("v-avatar",{staticClass:"mb-4",attrs:{color:"blue darken-1",size:"64"}},[r("v-icon",[t._v("mdi-account")])],1),t._v(" "),r("div",[t._v(t._s(t.auth?t.user.name.firstname:"Guest"))])],1),t._v(" "),r("v-divider"),t._v(" "),r("v-list",[r("v-list-item",{attrs:{to:"/"}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-home")])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v("Home")])],1)],1),t._v(" "),t.auth?t._e():r("v-list-item",{attrs:{to:"/login"}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-login")])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v("Login")])],1)],1),t._v(" "),t.auth?r("v-list-item",{attrs:{to:"/addCourse"}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-account")])],1),t._v(" "),t.auth?r("v-list-item-content",[r("v-list-item-title",[t._v("My Courses")])],1):t._e()],1):t._e(),t._v(" "),t.auth?r("v-list-item",{on:{click:t.Logout}},[r("v-list-item-icon",[r("v-icon",[t._v("mdi-logout")])],1),t._v(" "),r("v-list-item-content",[r("v-list-item-title",[t._v("Logout")])],1)],1):t._e()],1)],1),t._v(" "),r("nuxt")],1)}),[],!1,null,null,null);e.a=component.exports;h()(component,{VApp:_.a,VAvatar:O.a,VDivider:w.a,VIcon:y.a,VList:j.a,VListItem:C.a,VListItemContent:V.a,VListItemIcon:L.a,VListItemTitle:V.c,VNavigationDrawer:x.a,VSheet:k.a,VSpacer:P.a,VSystemBar:S.a})},230:function(t,e,r){r(231),t.exports=r(232)},247:function(t,e,r){"use strict";r.r(e),e.default=function(t){var e=t.store,r=t.redirect;if(!e.state.auth)return r("/login")}},248:function(t,e,r){"use strict";r.r(e),e.default=function(t){var e=t.store,r=t.redirect;if(e.state.auth)return r("/")}},257:function(t,e,r){"use strict";r(199)},258:function(t,e,r){var n=r(18)(!1);n.push([t.i,"h1[data-v-bfedb7fe]{font-size:20px}",""]),t.exports=n},307:function(t,e,r){"use strict";r.r(e),r.d(e,"state",(function(){return n})),r.d(e,"mutations",(function(){return o}));r(27),r(41);var n=function(){return{auth:!1,user:{name:"name",email:"email",regnumber:"regnumber",courses:[]},courses:[]}},o={login:function(t,data){t.auth=!0,t.user={name:data.name,email:data.email,regnumber:data.regNumber,courses:data.courses?data.courses:[],id:data.id}},Logout:function(t){t.user={name:"name",email:"email",regnumber:"regnumber",courses:[]},t.auth=!1},setCourses:function(t,data){t.courses=data},setUserCourses:function(t,data){t.user.courses=data},setCourseUsers:function(t,e){var r={};t.courses.map((function(t){r[t.id]=0})),e.map((function(t){t.map((function(t){r[t]++}))})),t.courses=t.courses.map((function(t){return t.users=r[t.id],t}))}}},63:function(t,e,r){"use strict";var n={layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(r(257),r(73)),c=r(100),v=r.n(c),l=r(315),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{dark:""}},[404===t.error.statusCode?r("h1",[t._v("\n    "+t._s(t.pageNotFound)+"\n  ")]):r("h1",[t._v("\n    "+t._s(t.otherError)+"\n  ")]),t._v(" "),r("NuxtLink",{attrs:{to:"/"}},[t._v("\n    Home page\n  ")])],1)}),[],!1,null,"bfedb7fe",null);e.a=component.exports;v()(component,{VApp:l.a})}},[[230,12,5,13]]]);